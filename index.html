<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quick Buy</title>
    <link rel="stylesheet" href="favicon.co" type="image/x-icon">
    <link rel="shortcut icon" href="./images/favicon-32x32.png" type="image/x-icon">

    <style>
        #form1 {
            border: 1px solid #000;
            width: 40%;
            display: flex;
            flex-direction: column;
            margin: auto;
            padding: 30px 30px;
            gap: 8px;
            margin-top: 70px;
            background-color: lightgrey;
            box-shadow: 5px 5px gray, 10px 10px 10px gray;
        }

        #username,
        #email,
        #password,
        #confirm,
        #number {
            font-weight: bold;
        }

        #email,
        #password,
        #confirm,
        #number,
        #checkbox {
            margin-top: 10px;
        }

        .username,
        .email,
        .password,
        .confirm,
        .number {
            padding: 5px;
        }

        #register {
            width: 20%;
            padding: 5px;
            margin: auto;
            background-color: rgb(133, 133, 241);
        }

        #guest {
            margin: auto;
            color: #000;
            font-weight: bold;
        }

        @media screen and (max-width: 767px) {
            #form1 {
                width: 50%
            }

            #register {
                width: 50%;
            }

            #checkbox {
                font-size: 13px;
            }
        }
    </style>
</head>

<body>
    <form id="form1">
        <label id="username">Username:</label>
        <input type="text" placeholder="Enter your Username" class="username" pattern="^[a-zA-Z0-9]{3,15}$"
            title="Username must be 3-15 characters long and contain only letters and numbers." required>

        <label id="email">Email:</label>
        <input type="email" placeholder="Enter your email" class="email"
            pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$" title="Please enter a valid email address." required>

        <label id="password">Password:</label>
        <input type="password" placeholder="Enter your password" class="password"
            pattern="(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[A-Za-z\d@$!%*?&]{5,}"
            title="Password must be at least 5 characters long, include an uppercase letter, a lowercase letter, and a number."
            required>

        <label id="confirm">Confirm Password:</label>
        <input type="password" placeholder="Enter confirm password" class="confirm" required>

        <label id="number">Mobile Number:</label>
        <input type="tel" placeholder="Enter mobile number" class="number" pattern="^\d{10,12}$"
            title="Please enter a valid phone number with 10 to 12 digits." required>

        <label id="checkbox">
            <input type="checkbox" required> I agree to the terms and conditions
        </label>

        <button id="register">Register</button>
        <a href="#" id="guest">Guest Login</a>
    </form>

    <script>
        const registerButton = document.querySelector("#register");
        const form1 = document.getElementById("form1")
        const guestlogin = document.getElementById("guest")

        form1.addEventListener("submit", (e) => {
            e.preventDefault();

            const userName = document.querySelector(".username").value;
            const emailId = document.querySelector(".email").value;
            const password = document.querySelector(".password").value;
            const confirmPassword = document.querySelector(".confirm").value;
            const mobileNumber = document.querySelector(".number").value;

            if (!userName || !emailId || !password || !confirmPassword || !mobileNumber) {
                alert("Enter all the details before registering");
            } else {
                if (password !== confirmPassword) {
                    alert("Password is not matching");
                    return;
                }

                const registerDetails = {
                    username: userName,
                    email: emailId,
                    password: password,
                    mobileNumber: mobileNumber,
                };

                // Store in localStorage
                localStorage.setItem("username", registerDetails.username);
                localStorage.setItem("email", registerDetails.email);
                localStorage.setItem("password", registerDetails.password);
                localStorage.setItem("mobileNumber", registerDetails.mobileNumber);

                alert("Registration successful!");
            }
        });

        registerButton.addEventListener("click", (e) => {
            e.preventDefault();
            window.location.href = "login.html";
        });

        guestlogin.addEventListener("click", (e) => {
            e.preventDefault();
            window.location.href = "home.html";
        });

    </script>
</body>

</html>